---
import { textWhite } from "@/libs/color";
import { defaultTagColor, getTagColors } from "@/libs/tag";

interface Props {
  tagName: string;
}

const { tagName } = Astro.props;
const tagColors = await getTagColors();

const tagStyle = tagColors?.find((tag) => tag.name === tagName) ?? {
  bg: defaultTagColor,
  textColor: textWhite,
};
---

<div>
  <slot />
</div>

<style define:vars={{ bgColor: tagStyle.bg, textColor: tagStyle.textColor }}>
  div {
    background-color: var(--bgColor);
    color: var(--textColor);
  }
</style>
